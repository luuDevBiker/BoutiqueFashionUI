{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst items = localStorage.getItem('cartItems') !== null ? JSON.parse(localStorage.getItem('cartItems')) : [];\nconst initialState = {\n  value: items\n};\nexport const cartItemsSlice = createSlice({\n  name: 'cartItems',\n  initialState,\n  reducers: {\n    addItem: (state, action) => {\n      const newItem = action.payload;\n      const duplicate = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size);\n\n      if (duplicate.length > 0) {\n        state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size);\n        state.value = [...state.value, {\n          id: duplicate[0].id,\n          slug: newItem.slug,\n          color: newItem.color,\n          size: newItem.size,\n          price: newItem.price,\n          quantity: newItem.quantity + duplicate[0].quantity\n        }];\n      } else {\n        state.value = [...state.value, { ...action.payload,\n          id: state.value.length > 0 ? state.value[state.value.length - 1].id + 1 : 1\n        }];\n      }\n\n      localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)));\n    },\n    updateItem: (state, action) => {\n      const newItem = action.payload;\n      const item = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size);\n\n      if (item.length > 0) {\n        state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size);\n        state.value = [...state.value, {\n          id: item[0].id,\n          slug: newItem.slug,\n          color: newItem.color,\n          size: newItem.size,\n          price: newItem.price,\n          quantity: newItem.quantity\n        }];\n      }\n\n      localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)));\n    },\n    removeItem: (state, action) => {\n      const item = action.payload;\n      state.value = state.value.filter(e => e.slug !== item.slug || e.color !== item.color || e.size !== item.size);\n      localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : a.id < b.id ? -1 : 0)));\n    }\n  }\n}); // Action creators are generated for each case reducer function\n\nexport const {\n  addItem,\n  removeItem,\n  updateItem\n} = cartItemsSlice.actions;\nexport default cartItemsSlice.reducer;","map":{"version":3,"names":["createSlice","items","localStorage","getItem","JSON","parse","initialState","value","cartItemsSlice","name","reducers","addItem","state","action","newItem","payload","duplicate","filter","e","slug","color","size","length","id","price","quantity","setItem","stringify","sort","a","b","updateItem","item","removeItem","actions","reducer"],"sources":["D:/FPT_School/learnCsharp/BoutiqueFashionUI/src/redux/shopping-cart/cartItemsSlide.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\r\n\r\nconst items = localStorage.getItem('cartItems') !== null ? JSON.parse(localStorage.getItem('cartItems')) : []\r\n\r\nconst initialState = {\r\n    value: items,\r\n}\r\n\r\nexport const cartItemsSlice = createSlice({\r\n    name: 'cartItems',\r\n    initialState,\r\n    reducers: {\r\n        addItem: (state, action) => {\r\n            const newItem = action.payload\r\n            const duplicate = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size)\r\n            if (duplicate.length > 0) {\r\n                state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size)\r\n                state.value = [...state.value, {\r\n                    id: duplicate[0].id,\r\n                    slug: newItem.slug,\r\n                    color: newItem.color,\r\n                    size: newItem.size,\r\n                    price: newItem.price,\r\n                    quantity: newItem.quantity + duplicate[0].quantity\r\n                }]\r\n            } else {\r\n                state.value = [...state.value, {\r\n                    ...action.payload,\r\n                    id: state.value.length > 0 ? state.value[state.value.length - 1].id + 1 : 1\r\n                }]\r\n            }\r\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\r\n        },\r\n        updateItem: (state, action) => {\r\n            const newItem = action.payload\r\n            const item = state.value.filter(e => e.slug === newItem.slug && e.color === newItem.color && e.size === newItem.size)\r\n            if (item.length > 0) {\r\n                state.value = state.value.filter(e => e.slug !== newItem.slug || e.color !== newItem.color || e.size !== newItem.size)\r\n                state.value = [...state.value, {\r\n                    id: item[0].id,\r\n                    slug: newItem.slug,\r\n                    color: newItem.color,\r\n                    size: newItem.size,\r\n                    price: newItem.price,\r\n                    quantity: newItem.quantity\r\n                }]\r\n            }\r\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\r\n        },\r\n        removeItem: (state, action) => {\r\n            const item = action.payload\r\n            state.value = state.value.filter(e => e.slug !== item.slug || e.color !== item.color || e.size !== item.size)\r\n            localStorage.setItem('cartItems', JSON.stringify(state.value.sort((a, b) => a.id > b.id ? 1 : (a.id < b.id ? -1 : 0))))\r\n        },\r\n    },\r\n})\r\n\r\n// Action creators are generated for each case reducer function\r\nexport const { addItem, removeItem, updateItem } = cartItemsSlice.actions\r\n\r\nexport default cartItemsSlice.reducer"],"mappings":"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"},"metadata":{},"sourceType":"module"}